(function(e,t,n){"use strict";var c="lazyLoadXT",u="lazied",j="load error",p="lazy-hidden",i=n.documentElement||n.body,E=t.onscroll===void 0||!!t.operamini||!i.getBoundingClientRect,s={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:E,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:p},onload:{removeClass:p,addClass:"lazy-loaded"},onerror:{removeClass:p},checkDuplicates:!0},_={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},h=e(t),y=function(e){return typeof e=="function"},v=e.extend,f=e.data||function(t,n){return e(t).data(n)},o=[],m=0,r=0;e[c]=v(s,_,e[c]);function d(e,t){return e[t]===void 0?s[t]:e[t]}function b(){var e=t.pageYOffset;return e===void 0?i.scrollTop:e}function g(){r>1?(r=1,O(),setTimeout(g,s.throttle)):r=0}function a(e){if(!o.length)return;if(e&&e.type==="scroll"&&e.currentTarget===t&&m>=b())return;r||setTimeout(g,0),r=2}function l(e,t){var n=s["on"+e];n&&(y(n)?n.call(t[0]):(n.addClass&&t.addClass(n.addClass),n.removeClass&&t.removeClass(n.removeClass))),t.trigger("lazy"+e,[t]),a()}function w(t){l(t.type,e(t.currentTarget).off(j,w))}function O(n){var a,r,d,h,p,g,v,_,O,x,C,E,k,A,S,M;if(!o.length)return;n=n||s.forceLoad,m=1/0,C=b(),M=t.innerHeight||i.clientHeight,S=t.innerWidth||i.clientWidth;for(r=0,g=o.length;r<g;r+=1)d=o[r],a=d[0],p=d[c],v=!1,_=n||f(a,u)<0,e.contains(i,a)?(n||!p.visibleOnly||a.offsetWidth||a.offsetHeight)&&(_||(h=a.getBoundingClientRect(),E=p.edgeX,k=p.edgeY,O=h.top+C-k-M,_=O<=C&&h.bottom>-k&&h.left<=S+E&&h.right>-E),_?(d.on(j,w),l("show",d),x=p.srcAttr,A=y(x)?x(d):a.getAttribute(x),A&&(a.src=A),v=!0):O<m&&(m=O)):v=!0,v&&(f(a,u,0),o.splice(r,1),r=r-1,g=g-1);g||l("complete",e(i))}e.fn[c]=function(n){var i,r,h,m,p={};return n=n||{},i=d(n,"blankImage"),r=d(n,"checkDuplicates"),h=d(n,"scrollContainer"),m=d(n,"show"),e(h).on("scroll",a),Object.keys(_).forEach(function(e){p[e]=d(n,e)}),this.each(function(d,h){var g,b;if(h===t)e(s.selector).lazyLoadXT(n);else{if(b=r&&f(h,u),g=e(h).data(u,m?-1:1),b){a();return}i&&h.tagName==="IMG"&&!h.src&&(h.src=i),g[c]=v({},p),l("init",g),o.push(g),a()}})};function x(){h.lazyLoadXT()}function C(){O(!0)}e(function(){l("start",h),h.on(s.updateEvent,a).on(s.forceEvent,C),e(n).on(s.updateEvent,a),s.autoInit&&(h.on(s.loadEvent,x),x())})})(window.jQuery||window.Zepto||window.$,window,document),function(e){"use strict";var t=e.lazyLoadXT;t.selector+=",video,iframe[data-src]",t.videoPoster="data-poster",e(document).on("lazyshow","video",function(n,s){var o=s.lazyLoadXT.srcAttr,a=typeof o=="function",i=!1;s.attr("poster",s.attr(t.videoPoster)),s.children("source,track").each(function(t,n){var s=e(n),r=a?o(s):s.attr(o);r&&(s.attr("src",r),i=!0)}),i&&this.load()})}(window.jQuery||window.Zepto||window.$)